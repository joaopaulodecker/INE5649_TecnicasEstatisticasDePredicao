install.packages("ggplot2")
oi = 33
lista => (3, 4, 5 , 6)
library(ggplot2)
# Exemplo de dados simulados
set.seed(1)
dados <- data.frame(
Experiencia = rep(1:10, each = 2),
Sexo = rep(c("Feminino", "Masculino"), times = 10)
)
dados$Salario <- 2000 + 500*dados$Experiencia +
ifelse(dados$Sexo == "Masculino", 1000 + 200*dados$Experiencia, 0) +
rnorm(20, 0, 300)
# Plotando
ggplot(dados, aes(x = Experiencia, y = Salario, color = Sexo)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
theme_minimal() +
labs(title = "Interação entre Experiência e Sexo no Salário",
y = "Salário (R$)",
x = "Anos de Experiência")
ggplot(dados, aes(x=Experiencia, y=Salario, color=Sexo)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
setwd("~/Desktop/UFSC/Semestres/3º semestre/Técnicas Estatísticas de Predição/TrabalhoSeriesTemporais")
dados => read.csv2("CONSUMO MENSAL DE ENERGIA ELÉTRICA POR CLASSE.xlsx")
# 1. Instale o pacote (apenas uma vez)
install.packages("readxl")
# 2. Carregue o pacote
library(readxl)
# 3. Leia o arquivo
dados <- read_excel("nome_do_arquivo.xlsx")
# 3. Leia o arquivo
dados <- read_excel("CONSUMO MENSAL DE ENERGIA ELÉTRICA POR CLASSE.xlsx")
# Visualize o resultado
View(dados)
View(dados)
# 3. Leia o arquivo
dados <- read_excel("CONSUMO MENSAL DE ENERGIA ELÉTRICA POR CLASSE.xlsx", skip = 4)
# Visualize o resultado
View(dados)
library(readxl)
dados <- read_excel("CONSUMO MENSAL DE ENERGIA ELÉTRICA POR CLASSE.xlsx", skip = 4)
View(dados)
("CONSUMO MENSAL DE ENERGIA ELÉTRICA POR CLASSE.xlsx", skip = 5)
library(readxl)
dados <- read_excel("CONSUMO MENSAL DE ENERGIA ELÉTRICA POR CLASSE.xlsx", skip = 5)
View(dados)
colnames(dados)[1] <- "Descricao"
View(dados)
dados <- read_excel("CONSUMO MENSAL DE ENERGIA ELÉTRICA POR CLASSE.xlsx", skip = 5)
View(dados)
colnames(dados)[1] <- "Descricao"
View(dados)
# No RStudio:
dados_ts <- read.csv("serie_temporal_consumo_limpa.csv")
dados_ts$Data <- as.Date(dados_ts$Data) # Garante que o R entenda como data
View(dados)
# No RStudio:
dados_ts <- read.csv("serie_temporal_consumo_limpa.csv")
dados_ts$Data <- as.Date(dados_ts$Data) # Garante que o R entenda como data
# Transformar em objeto de série temporal (ts) para análises
# frequency=12 indica dados mensais, start define o início (Janeiro de 2004)
ts_brasil <- ts(dados_ts$Consumo_MWh, start=c(2004, 1), frequency=12)
# Visualizar
plot.ts(ts_brasil, main="Consumo de Energia Brasil", ylab="MWh", col="blue")
# Visualizar
plot.ts(ts_brasil, main="Consumo de Energia Brasil", ylab="MWh", col="blue")
# Decompor (exemplo básico)
decomposicao <- decompose(ts_brasil)
plot(decomposicao)
# Instalar se ainda não tiver
# install.packages("forecast")
library(forecast)
# Instalar se ainda não tiver
install.packages("forecast")
# Instalar se ainda não tiver
library(forecast)
# Dividir em treino e teste (opcional, mas recomendado para validar o modelo)
# Vamos treinar com dados até o final de 2023 e tentar prever 2024/25
treino <- window(ts_energia, end = c(2023, 12))
library(readxl)
library(forecast)
library(ggplot2) # Necessário para o autoplot funcionar bem
# --- 1. CARREGAMENTO DOS DADOS ---
# Se você já baixou o CSV limpo que eu gerei:
dados_ts <- read.csv("serie_temporal_consumo_limpa.csv")
# --- 2. CRIAÇÃO DA SÉRIE TEMPORAL ---
# Vamos padronizar o nome para 'ts_brasil'
ts_brasil <- ts(dados_ts$Consumo_MWh, start=c(2004, 1), frequency=12)
# Visualizar e Decompor
plot(decompose(ts_brasil))
# --- 3. MODELAGEM E PREVISÃO ---
# CORREÇÃO AQUI: Usando 'ts_brasil' em vez de 'ts_energia'
treino <- window(ts_brasil, end = c(2023, 12))
# Modelo ETS
modelo_ets <- ets(treino)
previsao_ets <- forecast(modelo_ets, h = 24)
# Modelo ARIMA
modelo_arima <- auto.arima(treino)
previsao_arima <- forecast(modelo_arima, h = 24)
# --- 4. VISUALIZAÇÃO FINAL ---
autoplot(ts_brasil) + # Plotar a série completa original para comparar
autolayer(previsao_ets, series="Previsão ETS", PI=FALSE, alpha=0.7) +
autolayer(previsao_arima, series="Previsão ARIMA", PI=FALSE, alpha=0.7) +
ggtitle("Consumo de Energia Brasil: Histórico vs. Previsões") +
ylab("MWh") +
xlab("Ano") +
theme_minimal()
# Comparar a acurácia dos modelos nos dados de treino
acuracia_ets <- accuracy(modelo_ets)
acuracia_arima <- accuracy(modelo_arima)
print("--- Acurácia ETS ---")
print(acuracia_ets)
print("--- Acurácia ARIMA ---")
print(acuracia_arima)
checkresiduals(modelo_ets)
checkresiduals(modelo_arima)
# Ver os valores previstos (exemplo com ARIMA)
# Isso mostra mês a mês o quanto de energia é esperado
print(previsao_arima)
# Se quiser salvar em CSV para colocar no trabalho:
write.csv(previsao_arima, "previsao_energia_2024_2025.csv")
