# Separaão Treino (até 12/2023) e teste (01/2024 a 12/2024)
treino <- window(turismo, end = c(2023, 12))
teste  <- window(turismo, start = c(2024, 1))
# b - AJUSTE DO MODELO
# Arima (s/sazonalidade)
library(forecast)
mod.arima <- auto.arima(treino, seasonal = FALSE)
summary(mod.arima)
# Sarima (c/sazonalidade)
mod.sarima <- auto.arima(treino, seasonal = TRUE)
summary(mod.sarima)
# COMPARAR AIC E BIC PARA ESCOLHER O MELHOR MODELO
mod.arima$aicc
mod.sarima$aicc
# PREVISÃO PARA 12 MESES (01/2024 A 12/2024)
prev_sarima <- forecast(mod.sarima, h = 12)
# GRÁFICO DA PREVISÃO
autoplot(prev_sarima)
# c - DIAGNÓSTICO DE RESÍDUOS DO MODELO ESCOLHIDO
checkresiduals(mod.sarima)
# d - ANÁLISE GRÁFICA DO AJUSTE
library(ggplot2)
autoplot(prev_sarima) +
autolayer(treino, series = "Treino", color = "black") +
autolayer(teste, series = "Teste", linetype = "dashed", color = "red") +
autolayer(prev_sarima$mean, series = "Previsão", color = "blue") +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas") +
theme_minimal()
autoplot(prev_sarima) +
autolayer(treino, series = "Treino", color = "black") +
autolayer(teste, series = "Teste", linetype = "dashed", color = "red") +
autolayer(prev_sarima$mean, series = "Previsão", color = "blue") +
xlim(c(2020, 2025)) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas") +
theme_minimal()
# d - ANÁLISE GRÁFICA DO AJUSTE
library(ggplot2)
autoplot(prev_sarima) +
autolayer(treino, aes(color = "Treino")) +
autolayer(teste, aes(color = "Teste"), linetype = "dashed") +
autolayer(prev_sarima$mean, aes(color = "Previsão")) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# gráfico com um pouco de zoom
autoplot(prev_sarima) +
autolayer(treino, aes(color = "Treino")) +
autolayer(teste, aes(color = "Teste"), linetype = "dashed") +
autolayer(prev_sarima$mean, aes(color = "Previsão")) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
xlim(c(2020, 2025)) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# d - ANÁLISE GRÁFICA DO AJUSTE
library(ggplot2)
# Converte as séries para data.frame para permitir aes()
df_treino <- data.frame(
tempo = time(treino),
valor = as.numeric(treino),
serie = "Treino"
)
df_teste <- data.frame(
tempo = time(teste),
valor = as.numeric(teste),
serie = "Teste"
)
df_prev <- data.frame(
tempo = time(prev_sarima$mean),
valor = as.numeric(prev_sarima$mean),
serie = "Previsão"
)
# Plota gráfico usando autoplot para previsão + geom_line para séries
autoplot(prev_sarima) +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = serie)) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = serie),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = serie)) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# gráfico com um pouco de zoom
autoplot(prev_sarima) +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = serie)) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = serie),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = serie)) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
xlim(c(2020, 2025)) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# gráfico com um pouco de zoom
autoplot(prev_sarima) +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = serie)) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = serie),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = serie)) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
xlim(c(2021, 2025)) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# gráfico com um pouco de zoom
autoplot(prev_sarima) +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = serie)) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = serie),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = serie)) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
xlim(c(2022, 2025)) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# e - GRÁFICO DO TESTE E PREVISÃO COM INTERVALO DE 95%
autoplot(prev_sarima) +
autolayer(teste, series = "Real", color = "black") +
labs(title = "Previsão (95% IC) vs Valores Reais - 2024",
x = "Ano",
y = "Número de Turistas") +
theme_minimal()
# e - GRÁFICO SOMENTE COM O TESTE E A PREVISÃO COM IC 95%
library(ggplot2)
autoplot(prev_sarima) +
autolayer(teste, series = "Real", color = "black") +
labs(title = "Previsão x Valores Reais (Somente 2024)",
x = "Ano",
y = "Número de Turistas") +
xlim(c(2024, 2025)) +   # <-- ZOOM PARA MOSTRAR APENAS 2024
theme_minimal()
# LEITURA DA BASE
base <- read.csv2("turismo_floripa.csv")
# a - Série temporal
turismo <- ts(base$turistas,
frequency = 12,
start = c(2015, 1))
# Separação Treino (até 12/2023) e Teste (01/2024 a 12/2024)
treino <- window(turismo, end = c(2023, 12))
teste  <- window(turismo, start = c(2024, 1))
# b - AJUSTE DO MODELO
library(forecast)
# Arima (sem sazonalidade)
mod.arima <- auto.arima(treino, seasonal = FALSE)
summary(mod.arima)
# Sarima (com sazonalidade)
mod.sarima <- auto.arima(treino, seasonal = TRUE)
summary(mod.sarima)
# Comparação de AICc
mod.arima$aicc
mod.sarima$aicc
# Previsão para 12 meses (01/2024 a 12/2024)
prev_sarima <- forecast(mod.sarima, h = 12)
# Gráfico simples da previsão (opcional)
autoplot(prev_sarima)
# c - DIAGNÓSTICO DE RESÍDUOS DO MODELO ESCOLHIDO
checkresiduals(mod.sarima)
# d - ANÁLISE GRÁFICA DO AJUSTE (SEM INTERVALO DE CONFIANÇA)
library(ggplot2)
# Criação de data frames para plot
df_treino <- data.frame(
tempo = time(treino),
valor = as.numeric(treino),
serie = "Treino"
)
df_teste <- data.frame(
tempo = time(teste),
valor = as.numeric(teste),
serie = "Teste"
)
df_prev <- data.frame(
tempo = time(prev_sarima$mean),
valor = as.numeric(prev_sarima$mean),
serie = "Previsão"
)
# Gráfico do item (d)
ggplot() +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = "Treino")) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = "Teste"),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = "Previsão")) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# e - GRÁFICO SOMENTE COM O TESTE E A PREVISÃO COM IC 95%
autoplot(prev_sarima) +
autolayer(teste, series = "Real", color = "black") +
labs(title = "Valores Reais e Previsão (IC 95%) - 2024",
x = "Ano",
y = "Número de Turistas") +
xlim(c(2024, 2025)) +
theme_minimal()
# LEITURA DA BASE
base <- read.csv2("turismo_floripa.csv")
# a - Série temporal
turismo <- ts(base$turistas,
frequency = 12,
start = c(2015, 1))
# Separação Treino (até 12/2023) e Teste (01/2024 a 12/2024)
treino <- window(turismo, end = c(2023, 12))
teste  <- window(turismo, start = c(2024, 1))
# b - AJUSTE DO MODELO
library(forecast)
# Arima (sem sazonalidade)
mod.arima <- auto.arima(treino, seasonal = FALSE)
summary(mod.arima)
# Sarima (com sazonalidade)
mod.sarima <- auto.arima(treino, seasonal = TRUE)
summary(mod.sarima)
# LEITURA DA BASE
base <- read.csv2("turismo_floripa.csv")
# a - Série temporal
turismo <- ts(base$turistas,
frequency = 12,
start = c(2015, 1))
# Separação Treino (até 12/2023) e Teste (01/2024 a 12/2024)
treino <- window(turismo, end = c(2023, 12))
teste  <- window(turismo, start = c(2024, 1))
# b - AJUSTE DO MODELO
library(forecast)
# Arima (sem sazonalidade)
mod.arima <- auto.arima(treino, seasonal = FALSE)
summary(mod.arima)
# Sarima (com sazonalidade)
mod.sarima <- auto.arima(treino, seasonal = TRUE)
summary(mod.sarima)
# Comparação de AICc
mod.arima$aicc
mod.sarima$aicc
# Previsão para 12 meses (01/2024 a 12/2024)
prev_sarima <- forecast(mod.sarima, h = 12)
View(prev_sarima)
summary(prev_sarima)
# c - DIAGNÓSTICO DE RESÍDUOS DO MODELO ESCOLHIDO
checkresiduals(mod.sarima)
# d - ANÁLISE GRÁFICA DO AJUSTE (SEM INTERVALO DE CONFIANÇA)
library(ggplot2)
# Criação de data frames pro gráfico
df_treino <- data.frame(
tempo = time(treino),
valor = as.numeric(treino),
serie = "Treino"
)
df_teste <- data.frame(
tempo = time(teste),
valor = as.numeric(teste),
serie = "Teste"
)
df_prev <- data.frame(
tempo = time(prev_sarima$mean),
valor = as.numeric(prev_sarima$mean),
serie = "Previsão"
)
# Gráfico
ggplot() +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = "Treino")) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = "Teste"),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = "Previsão")) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# Gráfico com zoom
autoplot(prev_sarima) +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = serie)) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = serie),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = serie)) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
xlim(c(2020, 2025)) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# Gráfico com zoom
ggplot() +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = "Treino")) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = "Teste"),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = "Previsão")) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
xlim(c(2022, 2025)) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# f
tail(df_treino)
head(df_teste)
# LEITURA DA BASE
base <- read.csv2("turismo_floripa.csv")
# a - Série temporal
turismo <- ts(base$turistas,
frequency = 12,
start = c(2015, 1))
# Separação Treino (até 12/2023) e Teste (01/2024 a 12/2024)
treino <- window(turismo, end = c(2023, 12))
teste  <- window(turismo, start = c(2024, 1))
# b - AJUSTE DO MODELO
library(forecast)
# Arima (sem sazonalidade)
mod.arima <- auto.arima(treino, seasonal = FALSE)
summary(mod.arima)
# Sarima (com sazonalidade)
mod.sarima <- auto.arima(treino, seasonal = TRUE)
summary(mod.sarima)
# Comparação de AICc
mod.arima$aicc
mod.sarima$aicc
# Previsão para 12 meses (01/2024 a 12/2024)
prev_sarima <- forecast(mod.sarima, h = 12)
summary(prev_sarima)
# c - DIAGNÓSTICO DE RESÍDUOS DO MODELO ESCOLHIDO
checkresiduals(mod.sarima)
# d - ANÁLISE GRÁFICA DO AJUSTE (SEM INTERVALO DE CONFIANÇA)
library(ggplot2)
# Criação de data frames pro gráfico
df_treino <- data.frame(
tempo = time(treino),
valor = as.numeric(treino),
serie = "Treino"
)
df_teste <- data.frame(
tempo = time(teste),
valor = as.numeric(teste),
serie = "Teste"
)
df_prev <- data.frame(
tempo = time(prev_sarima$mean),
valor = as.numeric(prev_sarima$mean),
serie = "Previsão"
)
# Gráfico
ggplot() +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = "Treino")) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = "Teste"),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = "Previsão")) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# Gráfico com zoom
ggplot() +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = "Treino")) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = "Teste"),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = "Previsão")) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
xlim(c(2022, 2025)) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# e - GRÁFICO SOMENTE COM O TESTE E A PREVISÃO COM IC 95%
autoplot(prev_sarima) +
autolayer(teste, series = "Real", color = "black") +
labs(title = "Valores Reais e Previsão (IC 95%) - 2024",
x = "Ano",
y = "Número de Turistas") +
xlim(c(2024, 2025)) +
theme_minimal()
# LEITURA DA BASE
base <- read.csv2("turismo_floripa.csv")
# a - Série temporal
turismo <- ts(base$turistas,
frequency = 12,
start = c(2015, 1))
# Separação Treino (até 12/2023) e Teste (01/2024 a 12/2024)
treino <- window(turismo, end = c(2023, 12))
teste  <- window(turismo, start = c(2024, 1))
# b - AJUSTE DO MODELO
library(forecast)
# Arima (sem sazonalidade)
mod.arima <- auto.arima(treino, seasonal = FALSE)
summary(mod.arima)
# Sarima (com sazonalidade)
mod.sarima <- auto.arima(treino, seasonal = TRUE)
# LEITURA DA BASE
base <- read.csv2("turismo_floripa.csv")
# a - Série temporal
turismo <- ts(base$turistas,
frequency = 12,
start = c(2015, 1))
# Separação Treino (até 12/2023) e Teste (01/2024 a 12/2024)
treino <- window(turismo, end = c(2023, 12))
teste  <- window(turismo, start = c(2024, 1))
# b - AJUSTE DO MODELO
library(forecast)
# Arima
mod.arima <- auto.arima(treino, seasonal = FALSE)
summary(mod.arima)
# Sarima
mod.sarima <- auto.arima(treino, seasonal = TRUE)
summary(mod.sarima)
# Comparação de AICc
mod.arima$aicc
mod.sarima$aicc
# Previsão para 12 meses (01/2024 a 12/2024)
prev_sarima <- forecast(mod.sarima, h = 12)
summary(prev_sarima)
# c - DIAGNÓSTICO DE RESÍDUOS DO MODELO ESCOLHIDO
checkresiduals(mod.sarima)
# d - ANÁLISE GRÁFICA DO AJUSTE
library(ggplot2)
# Criação de data frames pro gráfico
df_treino <- data.frame(
tempo = time(treino),
valor = as.numeric(treino),
serie = "Treino"
)
df_teste <- data.frame(
tempo = time(teste),
valor = as.numeric(teste),
serie = "Teste"
)
df_prev <- data.frame(
tempo = time(prev_sarima$mean),
valor = as.numeric(prev_sarima$mean),
serie = "Previsão"
)
# Gráfico
ggplot() +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = "Treino")) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = "Teste"),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = "Previsão")) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# Gráfico com zoom
ggplot() +
geom_line(data = df_treino, aes(x = tempo, y = valor, color = "Treino")) +
geom_line(data = df_teste, aes(x = tempo, y = valor, color = "Teste"),
linetype = "dashed") +
geom_line(data = df_prev, aes(x = tempo, y = valor, color = "Previsão")) +
scale_color_manual(values = c("Treino" = "black",
"Teste" = "red",
"Previsão" = "blue")) +
xlim(c(2022, 2025)) +
labs(title = "Treino, Teste e Previsão - Modelo SARIMA",
x = "Ano",
y = "Número de Turistas",
color = "Séries") +
theme_minimal()
# e - GRÁFICO SOMENTE COM O TESTE E A PREVISÃO COM IC 95%
autoplot(prev_sarima) +
autolayer(teste, series = "Real", color = "black") +
labs(title = "Valores Reais e Previsão (IC 95%) - 2024",
x = "Ano",
y = "Número de Turistas") +
xlim(c(2024, 2025)) +
theme_minimal()
# c - DIAGNÓSTICO DE RESÍDUOS DO MODELO ESCOLHIDO
checkresiduals(mod.arima)
